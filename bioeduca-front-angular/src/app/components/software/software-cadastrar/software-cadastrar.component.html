<div class="container">
    <div class="row" *ngIf="show">
        <div class="col-lg-6">
            <app-alerts content={{msg}}></app-alerts>
        </div>
    </div>






    <div class="row" *ngIf="!show">
        <div class="col-lg-6">
            <h3>Sugerir Software</h3>

            <form [formGroup]="sugestForm" (ngSubmit)="onSubmit(sugestForm.value)">
                <div class="form-group" *ngIf="currentUser">
                    <label for="indicadopor">Indicado por {{currentUser.nome}} </label>
                    <input id="indicadopor" type="hidden" formControlName="indicadopor" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.nome.errors }">
                    <div *ngIf="submitted && f.indicadopor.errors" class="invalid-feedback">
                        <div *ngIf="f.indicadopor.errors.required">indicadopor obrigatório</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="nome">
                        Nome:
                    </label>
                    <input id="nome" name="nome" type="text" formControlName="nome" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.nome.errors }">
                    <div *ngIf="submitted && f.nome.errors" class="invalid-feedback">
                        <div *ngIf="f.nome.errors.required">nome obrigatório</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="site">
                        Site:
                    </label>
                    <input id="site" type="text" formControlName="site" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.site.errors }">
                    <div *ngIf="submitted && f.site.errors" class="invalid-feedback">
                        <div *ngIf="f.site.errors.required">site obrigatório</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="desenvolvedor">
                        Desenvolvedor:
                    </label>
                    <input id="desenvolvedor" type="text" formControlName="desenvolvedor" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.desenvolvedor.errors }">
                    <div *ngIf="submitted && f.desenvolvedor.errors" class="invalid-feedback">
                        <div *ngIf="f.desenvolvedor.errors.required">desenvolvedor obrigatório</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="anoletivo">
                        Ano Letivo:
                    </label>
                    <select id="anoletivo" formControlName="anoletivo" (change) = "setConteudo()" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.anoletivo.errors }">
                        <option value="1">1º ano</option>
                        <option value="2">2º ano</option>
                        <option value="3">3º ano</option>
                    </select>
                    <div *ngIf="submitted && f.anoletivo.errors" class="invalid-feedback">
                        <div *ngIf="f.anoletivo.errors.required">ano letivo obrigatório</div>
                    </div>
                </div>
                <div class="form-group" *ngIf="conteudo">
                    <label for="conteudo">
                        Conteúdo:
                    </label>
                    <select *ngIf="conteudo" id="conteudo" formControlName="conteudo" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.conteudo.errors }">
                        <option *ngFor="let c of conteudo | keyvalue" value={{c.value}}>{{c.value}}</option>
                       
                    </select>
                    <div *ngIf="submitted && f.conteudo.errors" class="invalid-feedback">
                        <div *ngIf="f.conteudo.errors.required">conteudo obrigatório</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="descricao">
                        Descrição:
                    </label>
                    <textarea id="descricao" formControlName="descricao" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.descricao.errors }"></textarea>
                    <div *ngIf="submitted && f.descricao.errors" class="invalid-feedback">
                        <div *ngIf="f.descricao.errors.required">descricao obrigatório</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="intrucoesdeuso">
                        Instruções de uso:
                    </label>
                    <textarea id="intrucoesdeuso" formControlName="intrucoesdeuso" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.intrucoesdeuso.errors }"></textarea>
                    <div *ngIf="submitted && f.intrucoesdeuso.errors" class="invalid-feedback">
                        <div *ngIf="f.intrucoesdeuso.errors.required">intruções de uso obrigatório</div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="img">
                        Imagem:
                    </label>
                    <div class="custom-file">
                        <form [formGroup]="formGroup" novalidate>
                            <input type="file" (change)="onFileChange($event)" />
                        </form>
                    </div>
                    <span><small>*Imagem com largura de até 600px ou tamanho 70k</small></span>
                </div>
                <button class="btn btn-secondary btn-sm active col-lg-4" type="submit">Cadastrar</button>
            </form>
        </div>
    </div>
</div>